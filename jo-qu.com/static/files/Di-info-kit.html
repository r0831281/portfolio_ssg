<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Disinfo Defense Kit</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    :root {
      --primary-color: #2563eb;
      --primary-hover: #1d4ed8;
      --secondary-color: #f1f5f9;
      --text-primary: #0f172a;
      --text-secondary: #64748b;
      --text-muted: #94a3b8;
      --border-color: #e2e8f0;
      --bg-color: #ffffff;
      --bg-subtle: #f8fafc;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --radius: 8px;
      --radius-lg: 12px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.7;
      color: var(--text-primary);
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      max-width: 1024px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    h1 {
      font-size: 4.5rem !important;
      font-weight: 800 !important;
      text-align: center;
      background: linear-gradient(135deg, var(--primary-color) 0%, #1d4ed8 50%, #7c3aed 100%) !important;
      -webkit-background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
      background-clip: text !important;
      margin: 0 0 1.5rem 0 !important;
      letter-spacing: -0.03em !important;
      line-height: 1 !important;
      text-shadow: 0 4px 8px rgba(37, 99, 235, 0.15) !important;
      position: relative;
    }
    
    .hero-section h1 {
      font-size: 4.5rem !important;
      font-weight: 800 !important;
      text-align: center;
      background: linear-gradient(135deg, var(--primary-color) 0%, #1d4ed8 50%, #7c3aed 100%) !important;
      -webkit-background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
      background-clip: text !important;
      margin: 0 0 1.5rem 0 !important;
      letter-spacing: -0.03em !important;
      line-height: 1 !important;
      text-shadow: 0 4px 8px rgba(37, 99, 235, 0.15) !important;
      position: relative;
    }
    
    h1::after, .hero-section h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), #7c3aed);
      border-radius: 2px;
    }

    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0 0 1.5rem 0;
      line-height: 1.2;
      letter-spacing: -0.01em;
    }

    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 2rem 0 1rem 0;
      line-height: 1.3;
    }

    .hero-section {
      text-align: center;
      margin-bottom: 3rem;
      padding: 3rem 2rem;
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-color);
    }

    .intro {
      font-size: 1.125rem;
      font-weight: 400;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .bot-section {
      background: white;
      border-radius: var(--radius-lg);
      padding: 2rem;
      margin: 0 0 3rem 0;
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-color);
    }

    .content-section {
      background: white;
      border-radius: var(--radius-lg);
      padding: 3rem 2rem;
      margin: 0 0 3rem 0;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-color);
    }

    .tactics-grid {
      display: grid;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .tactic-card {
      background: var(--bg-subtle);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      padding: 1.5rem;
      transition: all 0.2s ease;
    }

    .tactic-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary-color);
    }

    .tactic-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--primary-color);
      margin: 0 0 0.75rem 0;
    }

    .tactic-description {
      color: var(--text-secondary);
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .example-text {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 0.75rem 1rem;
      margin: 1rem 0;
      border-radius: 0 var(--radius) var(--radius) 0;
      color: #92400e;
    }

    .response-text {
      background: #d1fae5;
      border-left: 4px solid #10b981;
      padding: 0.75rem 1rem;
      margin: 1rem 0 0 0;
      border-radius: 0 var(--radius) var(--radius) 0;
      color: #047857;
      font-weight: 500;
    }

    .conclusion-section {
      background: linear-gradient(135deg, var(--primary-color) 0%, #1d4ed8 100%);
      color: white;
      border-radius: var(--radius-lg);
      padding: 3rem 2rem;
      margin: 3rem 0 0 0;
      text-align: center;
      box-shadow: var(--shadow-lg);
    }

    .conclusion-section h2 {
      color: white;
      margin-bottom: 1rem;
    }

    .conclusion-section p {
      font-size: 1.125rem;
      opacity: 0.95;
      max-width: 700px;
      margin: 0 auto;
    }

    #disinfo-bot-container {
      width: 100%;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      h1, .hero-section h1 {
        font-size: 3rem !important;
        margin-bottom: 1rem !important;
      }
      
      h1::after, .hero-section h1::after {
        width: 80px !important;
        height: 3px !important;
      }
      
      h2 {
        font-size: 1.75rem;
      }
      
      .hero-section, .content-section, .conclusion-section {
        padding: 2rem 1.5rem;
      }
      
      .bot-section {
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Hero Section -->
    <div class="hero-section">
      <h1>The Disinfo Defense Kit</h1>
      <p class="intro">
        In an age of endless information, the quality of our conversations has been in decline. Rather than seeking to understand, too many debates have become contests of ego and performance. This guide is a toolkit for recognizing and responding to bad-faith tactics that poison honest discourse.
      </p>
      <em>Learn to identify and counter these tactics effectively.</em>
    </div>

    <!-- Bot Section -->
    <div class="bot-section">
      <div id="disinfo-bot-container"></div>
    </div>

    <!-- Common Bad-Faith Tactics Section -->
    <div class="content-section">
      <h2>Common Bad-Faith Tactics</h2>
      <div class="tactics-grid">
        <div class="tactic-card" id="well-actually">
          <h3 class="tactic-title">Well Actually</h3>
          <p class="tactic-description">
            Correcting a minor, often irrelevant, detail to feel superior or derail the main point. This tactic avoids engaging with the substance of an argument by fixating on a technicality. It's a form of intellectual nitpicking.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You said the new policy would help people in the city, but you used the wrong fiscal year data. Therefore, your whole argument is invalid."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That doesn't change the core argument. Let's focus on the main point."
          </div>
        </div>

        <div class="tactic-card" id="gish-gallop">
          <h3 class="tactic-title">Gish Gallop</h3>
          <p class="tactic-description">
            Overwhelming a conversation with a rapid-fire series of shallow, often misleading, arguments. The goal is to flood the other person with so many points that they can't possibly respond to all of them, creating the illusion of a win.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You want to talk about climate change? Well, what about the sun's cycles, and the volcanoes, and the polar bear population isn't actually shrinking, and the ice caps are growing in one place, and also, what about the economic impact on developing nations?"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "You've made many points quickly. Let's slow down. Pick the strongest one, and we'll discuss that properly."
          </div>
        </div>

        <div class="tactic-card" id="whataboutism">
          <h3 class="tactic-title">Whataboutism</h3>
          <p class="tactic-description">
            Deflecting a criticism by accusing the other party of a different, unrelated wrongdoing. It's a way of avoiding responsibility and shifting the focus away from the original topic.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You're criticizing our country's human rights record? What about the human rights abuses in [another country]?"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That's an entirely different issue. We can discuss that after we finish this conversation, but it doesn't excuse what we're talking about now."
          </div>
        </div>

        <div class="tactic-card" id="straw-man">
          <h3 class="tactic-title">Straw Man</h3>
          <p class="tactic-description">
            Misrepresenting or exaggerating an opponent's argument to make it easier to attack. Instead of debating the actual point, the person attacks a weaker, distorted version they've created themselves.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "I think we should invest more in renewable energy."<br>"So you want to bankrupt our economy and leave millions without jobs by immediately shutting down all fossil fuel plants? That's an irresponsible position."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That's not what I said. My point was to invest more in renewables, not to shut everything down immediately. Please respond to the actual point I made."
          </div>
        </div>

        <div class="tactic-card" id="mocking-sarcasm">
          <h3 class="tactic-title">Mocking or Sarcasm</h3>
          <p class="tactic-description">
            Using mockery, sarcasm, or ridicule to dismiss an argument without engaging it. This tactic is aimed at ego defense and emotional manipulation, not dialogue. It's a way to belittle the other person instead of addressing their ideas.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "Oh, I'm so sorry, did my perfectly logical argument hurt your feelings? Maybe you should go back to your safe space."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "If you have a real point to make, please make it without the sarcasm."
          </div>
        </div>

        <div class="tactic-card" id="condescension">
          <h3 class="tactic-title">Condescension</h3>
          <p class="tactic-description">
            Pretending to "educate" someone from a position of intellectual superiority rather than engaging in a respectful discussion. This is a status game that undermines genuine exchange.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You clearly don't understand the intricacies of economic policy, so let me break it down for you..."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "Instead of talking down to me, explain what you disagree with in a straightforward way."
          </div>
        </div>

        <div class="tactic-card" id="burden-of-proof">
          <h3 class="tactic-title">Shifting the Burden of Proof</h3>
          <p class="tactic-description">
            Making a claim but demanding that others disprove it, rather than providing evidence to support it. The person making an extraordinary claim is responsible for backing it up.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "I'm telling you, this new supplement cures cancer. Prove that it doesn't work."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "You made the claim ‚Äî the burden of proof is on you to back it up with evidence."
          </div>
        </div>

        <div class="tactic-card" id="false-equivalence">
          <h3 class="tactic-title">False Equivalence</h3>
          <p class="tactic-description">
            Pretending that two things are the same or equally serious when they are not. This tactic is used to minimize a serious issue by comparing it to a minor one.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You think my minor exaggeration is a lie? That's just as bad as the time that politician lied to the whole country!"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That comparison doesn't hold up. These two things are not the same."
          </div>
        </div>

        <div class="tactic-card" id="motte-bailey">
          <h3 class="tactic-title">Motte and Bailey</h3>
          <p class="tactic-description">
            Defending an extreme, controversial claim ("motte") by retreating to a more modest, easily defensible claim ("bailey") when challenged. They then return to the extreme claim once the heat is off.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "All art created after 1900 is garbage." When challenged, they might retreat: "Well, I just mean that some modern art is a bit silly." Then later they'll return to the original extreme claim.
          </div>
          <div class="response-text">
            <strong>Response:</strong> "Pick one position and defend it. Are you arguing [extreme claim] or [modest claim]?"
          </div>
        </div>

        <div class="tactic-card" id="tone-policing">
          <h3 class="tactic-title">Tone Policing</h3>
          <p class="tactic-description">
            Dismissing a person's argument based on the tone they used to express it, rather than the content of the argument itself. This tactic is used to silence a valid point by labeling it as aggressive or emotional.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "I hear what you're saying about the systemic issue, but you're being so angry about it that I can't take you seriously."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "The tone doesn't change the facts I'm presenting. Can you address the substance of my argument?"
          </div>
        </div>

        <div class="tactic-card" id="cherry-picking">
          <h3 class="tactic-title">Cherry Picking</h3>
          <p class="tactic-description">
            Only presenting selective data or examples that support their own side while ignoring everything that contradicts it. This creates a distorted and incomplete picture.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "This new drug is amazing! The company's study shows it works for 25% of patients!" (Ignoring that it has severe side effects for the other 75%).
          </div>
          <div class="response-text">
            <strong>Response:</strong> "You're leaving out important context. Let's look at the full picture, not just the parts that support your view."
          </div>
        </div>

        <div class="tactic-card" id="slippery-slope">
          <h3 class="tactic-title">Slippery Slope</h3>
          <p class="tactic-description">
            Asserting that a single step will inevitably lead to a chain of catastrophic or extreme outcomes, without providing evidence for that chain reaction.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "If we allow students to have phones in class, they'll become distracted, their grades will drop, they'll never learn to focus, and society will collapse!"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "Let's focus on what's actually being proposed, not an imagined worst-case scenario that may never happen."
          </div>
        </div>

        <div class="tactic-card" id="appeal-to-hypocrisy">
          <h3 class="tactic-title">Appeal to Hypocrisy (Tu quoque)</h3>
          <p class="tactic-description">
            Rejecting an argument by pointing out that the person making the argument is a hypocrite. This avoids the topic at hand by attacking the person's character.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You're telling me to stop smoking? But you used to be a smoker yourself!"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "My personal actions don't invalidate the facts I'm bringing up. Let's stick to the issue."
          </div>
        </div>

        <div class="tactic-card" id="red-herring">
          <h3 class="tactic-title">Red Herring</h3>
          <p class="tactic-description">
            Introducing an unrelated or misleading topic to distract from the original subject. This is a classic diversion tactic to avoid an inconvenient argument.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "We need to address the city's crumbling infrastructure."<br>"But have you seen the crime rate lately? That's the real problem here."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That's a different issue. Let's stick to the topic at hand."
          </div>
        </div>
      </div>
    </div>

    <!-- Biased Reporting Section -->
    <div class="content-section">
      <h2>How to Spot Biased Reporting and Propaganda</h2>
      <p class="tactic-description">
        Beyond individual debates, we must also be vigilant about the media we consume. These tactics are often used to shape narratives and create a biased worldview.
      </p>
      <div class="tactics-grid">
        <div class="tactic-card" id="loaded-language">
          <h3 class="tactic-title">Loaded Language</h3>
          <p class="tactic-description">
            The use of sensational or emotionally charged words to provoke a reaction rather than to inform. This aims to bypass rational thought and go straight for the gut.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A headline that reads 'Government's DISASTROUS new spending plan' instead of 'Government proposes new spending plan.'
          </div>
          <div class="response-text">
            <strong>Tip:</strong> Watch for words like "disaster," "traitor," "miracle," or "stunning" that indicate a strong opinion or emotion over a neutral fact.
          </div>
        </div>

        <div class="tactic-card" id="false-balance">
          <h3 class="tactic-title">False Balance</h3>
          <p class="tactic-description">
            Giving fringe or disproven views equal weight to expert consensus. This creates the illusion of a legitimate debate where there isn't one.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A news segment about climate change that pits a climate scientist against a random person who claims it's a hoax, as if their opinions have equal validity.
          </div>
          <div class="response-text">
            <strong>Tip:</strong> Just because a news story presents "both sides" doesn't mean both are equally valid or supported by evidence.
          </div>
        </div>

        <div class="tactic-card" id="missing-context">
          <h3 class="tactic-title">Missing Context</h3>
          <p class="tactic-description">
            Presenting a fact or statistic without the crucial background information that makes it meaningful. This allows the information to be framed in a misleading way.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A report states that a city's violent crime rate increased by 20% this year, but fails to mention the crime rate was at an all-time low last year and is still well below historical averages.
          </div>
          <div class="response-text">
            <strong>Response:</strong> Ask yourself: 'What's not being said?' or 'What critical information is being left out of this story?'
          </div>
        </div>

        <div class="tactic-card" id="anonymous-sources-abuse">
          <h3 class="tactic-title">Anonymous Sources Abuse</h3>
          <p class="tactic-description">
            Over-relying on unnamed "insiders" or "officials" without corroborating their claims with other evidence. While anonymous sources can be necessary, an over-reliance on them is a red flag.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A high-ranking official who wished to remain anonymous told us that the President is planning a secret military action.
          </div>
          <div class="response-text">
            <strong>Response:</strong> Be skeptical of a report where every major claim comes from a vague, unnamed source.
          </div>
        </div>

        <div class="tactic-card" id="agenda-framing">
          <h3 class="tactic-title">Agenda Framing</h3>
          <p class="tactic-description">
            Repeatedly focusing on certain topics while ignoring others. This shapes the public's perception of what is important or newsworthy.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A news channel that dedicates 24/7 coverage to one particular scandal while completely ignoring a major economic event or natural disaster.
          </div>
          <div class="response-text">
            <strong>Response:</strong> Pay attention to what a news outlet consistently focuses on‚Äîand what they consistently ignore.
          </div>
        </div>

        <div class="tactic-card" id="image-manipulation">
          <h3 class="tactic-title">Image Manipulation</h3>
          <p class="tactic-description">
            Using emotionally charged photos or graphics to create a bias, even if the text itself is neutral. The image can tell a story that the words don't.
          </p>
          <div class="example-text">
            <strong>Example:</strong> A story about a political protest uses a photo of a single, aggressive-looking protestor, even though the vast majority of participants were peaceful.
          </div>
          <div class="response-text">
            <strong>Response:</strong> A photo of one protester yelling doesn't necessarily represent the mood or actions of the entire protest.
          </div>
        </div>

        <div class="tactic-card" id="clickbait-titles">
          <h3 class="tactic-title">Clickbait Titles</h3>
          <p class="tactic-description">
            Headlines designed to provoke a strong emotional reaction and get clicks, often at the expense of accuracy.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "You Won't BELIEVE What Scientists Just Discovered!" instead of a simple, informative headline.
          </div>
          <div class="response-text">
            <strong>Response:</strong> If a headline feels sensational or exaggerated, read the actual article carefully before reacting or sharing.
          </div>
        </div>
      </div>
    </div>

    <!-- Additional Tactics Section -->
    <div class="content-section">
      <h2>Additional Bad-Faith Tactics</h2>
      <div class="tactics-grid">
        <div class="tactic-card" id="selective-quoting">
          <h3 class="tactic-title">Selective Quoting</h3>
          <p class="tactic-description">
            Taking quotes out of context or only using partial quotes that distort the speaker's intended meaning.
          </p>
          <div class="example-text">
            <strong>Example:</strong> Taking "I think in some cases, this policy could work" and reporting it as "I think... this policy could work" to show stronger support.
          </div>
          <div class="response-text">
            <strong>Response:</strong> Always look for the full context of quotes and be suspicious of partial quotes with ellipses.
          </div>
        </div>

        <div class="tactic-card" id="appeal-to-emotion">
          <h3 class="tactic-title">Appeal to Emotion</h3>
          <p class="tactic-description">
            Using emotional manipulation instead of logical reasoning to win an argument. This includes fear-mongering, guilt-tripping, or appeals to anger rather than facts.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "If you don't support this policy, you clearly don't care about the children who will suffer!"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "I do care about the welfare of children. Let's look at the evidence about whether this policy will actually help them."
          </div>
        </div>

        <div class="tactic-card" id="bandwagon-appeal">
          <h3 class="tactic-title">Bandwagon Appeal</h3>
          <p class="tactic-description">
            Arguing that something is correct or good because many people believe it or do it, without providing actual evidence for the claim.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "Everyone knows that this new diet works. Millions of people can't be wrong!"
          </div>
          <div class="response-text">
            <strong>Response:</strong> "Popular opinion doesn't determine truth. What does the scientific evidence say about this diet's effectiveness?"
          </div>
        </div>

        <div class="tactic-card" id="lie">
          <h3 class="tactic-title">Lie</h3>
          <p class="tactic-description">
            A statement that is demonstrably false and often intended to deceive. The bot will attempt to detect factual inaccuracies based on context and general knowledge.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "The Earth is flat, that's scientifically proven."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That is factually incorrect. There is overwhelming evidence to the contrary."
          </div>
        </div>

        <div class="tactic-card" id="oversimplification">
          <h3 class="tactic-title">Oversimplification</h3>
          <p class="tactic-description">
            Reducing a complex topic to an overly simple explanation, omitting important nuances, context, or factors to make a point. This can lead to a misleading representation of reality.
          </p>
          <div class="example-text">
            <strong>Example:</strong> "Unemployment is just a matter of people not looking hard enough for a job."
          </div>
          <div class="response-text">
            <strong>Response:</strong> "That's an oversimplification. The reality is more complex, and multiple factors are at play."
          </div>
        </div>
      </div>
    </div>

    <!-- Conclusion Section -->
    <div class="conclusion-section">
      <h2>Why This Matters</h2>
      <p>
        These tactics don't just make conversations frustrating; they actively encourage misinformation, tribalism, and intellectual laziness. If you care about truth, clarity, and building a healthier society, it's essential to recognize and name these patterns when they appear. The goal isn't to "win" every debate, but to ensure that when we do engage, we're engaging honestly.
      </p>
    </div>
  </div>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <script type="text/babel">
    function App() {
      const [inputText, setInputText] = React.useState('');
      const [analysisResult, setAnalysisResult] = React.useState(null);
      const [loading, setLoading] = React.useState(false);
      const [error, setError] = React.useState(null);

      // Function to convert tactic name to ID
      const tacticNameToId = (tacticName) => {
        const nameMap = {
          'Well Actually': 'well-actually',
          'Gish Gallop': 'gish-gallop',
          'Whataboutism': 'whataboutism',
          'Straw Man': 'straw-man',
          'Mocking/Sarcasm': 'mocking-sarcasm',
          'Mocking or Sarcasm': 'mocking-sarcasm',
          'Condescension': 'condescension',
          'Burden of Proof Shifting': 'burden-of-proof',
          'Shifting the Burden of Proof': 'burden-of-proof',
          'False Equivalence': 'false-equivalence',
          'Motte and Bailey': 'motte-bailey',
          'Tone Policing': 'tone-policing',
          'Cherry Picking': 'cherry-picking',
          'Slippery Slope': 'slippery-slope',
          'Appeal to Hypocrisy': 'appeal-to-hypocrisy',
          'Appeal to Hypocrisy (Tu quoque)': 'appeal-to-hypocrisy',
          'Red Herring': 'red-herring',
          'Loaded Language': 'loaded-language',
          'False Balance': 'false-balance',
          'Missing Context': 'missing-context',
          'Anonymous Sources Abuse': 'anonymous-sources-abuse',
          'Agenda Framing': 'agenda-framing',
          'Image Manipulation': 'image-manipulation',
          'Clickbait Titles': 'clickbait-titles',
          'Selective Quoting': 'selective-quoting',
          'Appeal to Emotion': 'appeal-to-emotion',
          'Bandwagon Appeal': 'bandwagon-appeal',
          'Lie': 'lie',
          'Oversimplification': 'oversimplification'
        };
        
        // Direct match
        if (nameMap[tacticName]) {
          return nameMap[tacticName];
        }
        
        // Fuzzy matching for variations
        const lowerName = tacticName.toLowerCase();
        for (const [key, value] of Object.entries(nameMap)) {
          if (lowerName.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerName)) {
            return value;
          }
        }
        
        // Fallback: convert to kebab-case
        return tacticName.toLowerCase()
          .replace(/[^a-z0-9\s]/g, '')
          .replace(/\s+/g, '-');
      };

      const analyzeText = async () => {
        if (!inputText.trim()) {
          setError("Please enter some text to analyze.");
          setAnalysisResult(null);
          return;
        }

        setLoading(true);
        setError(null);
        setAnalysisResult(null);

        const workerEndpoint = '/api/analyze';

        try {
          const response = await fetch(workerEndpoint, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ inputText: inputText })
          });

          if (!response.ok) {
            const errorData = await response.json();
            throw new Error(`API Error: ${errorData.error || response.statusText}`);
          }

          const result = await response.json();
          setAnalysisResult(result);

        } catch (e) {
          console.error("Error analyzing text:", e);
          setError(`Failed to analyze text: ${e.message}. Please try again.`);
        } finally {
          setLoading(false);
        }
      };

      return (
        <div style={{ fontFamily: 'Inter, sans-serif' }}>
          <div style={{
            background: 'white',
            padding: '2rem',
            borderRadius: '12px',
            boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
            border: '1px solid #e2e8f0'
          }}>
            <h2 style={{
              fontSize: '2rem',
              fontWeight: '600',
              color: '#2563eb',
              margin: '0 0 1rem 0',
              textAlign: 'center'
            }}>
              üõ°Ô∏è Disinfo Defense Bot
            </h2>
            <p style={{
              color: '#64748b',
              textAlign: 'center',
              marginBottom: '2rem',
              fontSize: '1.125rem'
            }}>
              Paste any text below to analyze it for common bad-faith tactics and biased reporting.
              The bot supports both <strong>English and Dutch</strong> text and will identify tactics while suggesting responses.
            </p>

            <textarea
              style={{
                width: '100%',
                padding: '1rem',
                border: '1px solid #e2e8f0',
                borderRadius: '8px',
                fontSize: '1rem',
                color: '#0f172a',
                resize: 'vertical',
                minHeight: '150px',
                marginBottom: '1.5rem',
                fontFamily: 'Inter, sans-serif',
                lineHeight: '1.5'
              }}
              placeholder="Enter text here to analyze for disinfo tactics... (English/Nederlands)"
              value={inputText}
              onChange={(e) => setInputText(e.target.value)}
            />

            <button
              onClick={analyzeText}
              disabled={loading}
              style={{
                width: '100%',
                padding: '0.75rem 1.5rem',
                borderRadius: '8px',
                color: 'white',
                fontWeight: '600',
                fontSize: '1rem',
                border: 'none',
                cursor: loading ? 'not-allowed' : 'pointer',
                background: loading ? '#94a3b8' : '#2563eb',
                transition: 'all 0.2s ease',
                fontFamily: 'Inter, sans-serif'
              }}
              onMouseOver={(e) => {
                if (!loading) e.target.style.background = '#1d4ed8';
              }}
              onMouseOut={(e) => {
                if (!loading) e.target.style.background = '#2563eb';
              }}
            >
              {loading ? 'üîç Analyzing...' : 'üöÄ Analyze Text'}
            </button>

            {error && (
              <div style={{
                marginTop: '1.5rem',
                padding: '1rem',
                background: '#fef2f2',
                border: '1px solid #fecaca',
                color: '#dc2626',
                borderRadius: '8px'
              }}>
                <p style={{ fontWeight: '500', margin: '0 0 0.5rem 0' }}>‚ùå Error:</p>
                <p style={{ margin: 0 }}>{error}</p>
              </div>
            )}

            {analysisResult && (
              <div style={{ marginTop: '2rem' }}>
                <h3 style={{
                  fontSize: '1.5rem',
                  fontWeight: '600',
                  color: '#0f172a',
                  margin: '0 0 1.5rem 0',
                  paddingBottom: '0.5rem',
                  borderBottom: '2px solid #e2e8f0'
                }}>
                  üìä Analysis Results
                </h3>
                
                {/* Overall Assessment */}
                {analysisResult.overallAssessment && (
                  <div style={{
                    background: '#eff6ff',
                    padding: '1.5rem',
                    borderRadius: '8px',
                    border: '1px solid #bfdbfe',
                    marginBottom: '1.5rem'
                  }}>
                    <h4 style={{
                      fontSize: '1.25rem',
                      fontWeight: '600',
                      color: '#1d4ed8',
                      margin: '0 0 1rem 0'
                    }}>
                      üéØ Overall Assessment
                    </h4>
                    <div style={{
                      display: 'grid',
                      gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',
                      gap: '1rem',
                      marginBottom: '1rem'
                    }}>
                      <div>
                        <span style={{ fontWeight: '500', color: '#374151' }}>Tone:</span>
                        <span style={{
                          marginLeft: '0.5rem',
                          padding: '0.25rem 0.5rem',
                          borderRadius: '4px',
                          fontSize: '0.875rem',
                          fontWeight: '500',
                          background: analysisResult.overallAssessment.tone === 'hostile' ? '#fef2f2' :
                                      analysisResult.overallAssessment.tone === 'adversarial' ? '#fff7ed' :
                                      analysisResult.overallAssessment.tone === 'neutral' ? '#f9fafb' : '#f0fdf4',
                          color: analysisResult.overallAssessment.tone === 'hostile' ? '#dc2626' :
                                 analysisResult.overallAssessment.tone === 'adversarial' ? '#ea580c' :
                                 analysisResult.overallAssessment.tone === 'neutral' ? '#374151' : '#16a34a'
                        }}>
                          {analysisResult.overallAssessment.tone}
                        </span>
                      </div>
                      <div>
                        <span style={{ fontWeight: '500', color: '#374151' }}>Severity:</span>
                        <span style={{
                          marginLeft: '0.5rem',
                          padding: '0.25rem 0.5rem',
                          borderRadius: '4px',
                          fontSize: '0.875rem',
                          fontWeight: '500',
                          background: analysisResult.overallAssessment.severity === 'high' ? '#fef2f2' :
                                      analysisResult.overallAssessment.severity === 'medium' ? '#fff7ed' : '#f0fdf4',
                          color: analysisResult.overallAssessment.severity === 'high' ? '#dc2626' :
                                 analysisResult.overallAssessment.severity === 'medium' ? '#ea580c' : '#16a34a'
                        }}>
                          {analysisResult.overallAssessment.severity}
                        </span>
                      </div>
                    </div>
                    <p style={{ color: '#374151', margin: '0 0 0.5rem 0', lineHeight: '1.6' }}>
                      <span style={{ fontWeight: '500' }}>Context:</span> {analysisResult.overallAssessment.context}
                    </p>
                    <p style={{ color: '#374151', margin: 0, lineHeight: '1.6' }}>
                      <span style={{ fontWeight: '500' }}>Quality Assessment:</span> {analysisResult.overallAssessment.generalQuality}
                    </p>
                  </div>
                )}

                {/* Identified Tactics */}
                {analysisResult.identifiedTactics && analysisResult.identifiedTactics.length === 0 ? (
                  <p style={{
                    color: '#16a34a',
                    background: '#f0fdf4',
                    padding: '1rem',
                    borderRadius: '8px',
                    border: '1px solid #bbf7d0',
                    margin: '0 0 1.5rem 0'
                  }}>
                    ‚úÖ No specific bad-faith tactics or biased reporting signs were identified in the text.
                  </p>
                ) : (
                  <div style={{ marginBottom: '1.5rem' }}>
                    <h4 style={{
                      fontSize: '1.25rem',
                      fontWeight: '600',
                      color: '#0f172a',
                      margin: '0 0 1rem 0'
                    }}>
                      üö® Identified Issues ({analysisResult.identifiedTactics?.length || 0})
                    </h4>
                    {analysisResult.identifiedTactics?.map((tactic, index) => (
                      <div key={index} style={{
                        background: '#f9fafb',
                        padding: '1.5rem',
                        borderRadius: '8px',
                        border: '1px solid #e2e8f0',
                        marginBottom: '1rem'
                      }}>
                        <div style={{
                          display: 'flex',
                          flexDirection: 'column',
                          gap: '0.5rem',
                          marginBottom: '0.5rem'
                        }}>
                          <a href={`#${tacticNameToId(tactic.tacticName)}`} style={{
                            fontSize: '1.125rem',
                            fontWeight: '600',
                            color: '#dc2626',
                            margin: 0,
                            flex: 1,
                            textDecoration: 'none',
                            transition: 'all 0.2s ease',
                            display: 'block'
                          }}
                          onMouseOver={(e) => {
                            e.target.style.textDecoration = 'underline';
                            e.target.style.color = '#b91c1c';
                          }}
                          onMouseOut={(e) => {
                            e.target.style.textDecoration = 'none';
                            e.target.style.color = '#dc2626';
                          }}
                          title="Click to view explanation on page"
                          >
                            üîó {tactic.tacticName}
                          </a>
                          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                            <span style={{
                              padding: '0.25rem 0.5rem',
                              borderRadius: '4px',
                              fontSize: '0.75rem',
                              fontWeight: '500',
                              whiteSpace: 'nowrap',
                              background: tactic.severity === 'high' ? '#fef2f2' :
                                          tactic.severity === 'medium' ? '#fff7ed' : '#f0fdf4',
                              color: tactic.severity === 'high' ? '#dc2626' :
                                     tactic.severity === 'medium' ? '#ea580c' : '#16a34a'
                            }}>
                              {tactic.severity}
                            </span>
                            {tactic.confidenceScore && (
                              <span style={{
                                padding: '0.25rem 0.5rem',
                                borderRadius: '4px',
                                fontSize: '0.75rem',
                                fontWeight: '500',
                                background: '#eff6ff',
                                color: '#1d4ed8',
                                whiteSpace: 'nowrap'
                              }}>
                                {Math.round(tactic.confidenceScore * 100)}% confidence
                              </span>
                            )}
                          </div>
                        </div>
                        
                        <p style={{ color: '#374151', margin: '0 0 0.5rem 0', lineHeight: '1.6' }}>
                          <span style={{ fontWeight: '500' }}>Explanation:</span> {tactic.explanation}
                        </p>
                        
                        {tactic.exampleFromInput && (
                          <p style={{ color: '#374151', margin: '0 0 0.5rem 0', lineHeight: '1.6' }}>
                            <span style={{ fontWeight: '500' }}>Example from Input:</span>
                            <span style={{
                              fontStyle: 'italic',
                              background: '#fef3c7',
                              padding: '0.25rem 0.5rem',
                              borderRadius: '4px',
                              marginLeft: '0.25rem'
                            }}>
                              "{tactic.exampleFromInput}"
                            </span>
                          </p>
                        )}
                        
                        <p style={{ color: '#374151', margin: '0 0 0.5rem 0', lineHeight: '1.6' }}>
                          <span style={{ fontWeight: '500' }}>Suggested Response:</span>
                          <span style={{ color: '#059669', fontWeight: '500' }}> "{tactic.suggestedResponse}"</span>
                        </p>
                        
                        {tactic.impact && (
                          <p style={{ color: '#64748b', fontSize: '0.875rem', margin: 0, lineHeight: '1.6' }}>
                            <span style={{ fontWeight: '500' }}>Impact on Discourse:</span> {tactic.impact}
                          </p>
                        )}
                      </div>
                    ))}
                  </div>
                )}

                {/* Constructive Feedback */}
                {analysisResult.constructiveFeedback && (
                  <div style={{
                    background: '#f0fdf4',
                    padding: '1.5rem',
                    borderRadius: '8px',
                    border: '1px solid #bbf7d0',
                    marginBottom: '1.5rem'
                  }}>
                    <h4 style={{
                      fontSize: '1.25rem',
                      fontWeight: '600',
                      color: '#059669',
                      margin: '0 0 1rem 0'
                    }}>
                      üí° Constructive Feedback
                    </h4>
                    
                    {analysisResult.constructiveFeedback.strengths?.length > 0 && (
                      <div style={{ marginBottom: '1rem' }}>
                        <h5 style={{ fontWeight: '500', color: '#374151', margin: '0 0 0.5rem 0' }}>Strengths:</h5>
                        <ul style={{ margin: 0, paddingLeft: '1.25rem', color: '#374151' }}>
                          {analysisResult.constructiveFeedback.strengths.map((strength, index) => (
                            <li key={index} style={{ marginBottom: '0.25rem' }}>{strength}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                    
                    {analysisResult.constructiveFeedback.improvements?.length > 0 && (
                      <div style={{ marginBottom: '1rem' }}>
                        <h5 style={{ fontWeight: '500', color: '#374151', margin: '0 0 0.5rem 0' }}>Suggestions for Improvement:</h5>
                        <ul style={{ margin: 0, paddingLeft: '1.25rem', color: '#374151' }}>
                          {analysisResult.constructiveFeedback.improvements.map((improvement, index) => (
                            <li key={index} style={{ marginBottom: '0.25rem' }}>{improvement}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                    
                    {analysisResult.constructiveFeedback.alternatives?.length > 0 && (
                      <div style={{ marginBottom: '1rem' }}>
                        <h5 style={{ fontWeight: '500', color: '#374151', margin: '0 0 0.5rem 0' }}>Alternative Phrasings:</h5>
                        <ul style={{ margin: 0, paddingLeft: '1.25rem', color: '#374151' }}>
                          {analysisResult.constructiveFeedback.alternatives.map((alternative, index) => (
                            <li key={index} style={{ marginBottom: '0.25rem', fontSize: '0.875rem' }}>{alternative}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                    
                    {analysisResult.constructiveFeedback.contextualNotes?.length > 0 && (
                      <div>
                        <h5 style={{ fontWeight: '500', color: '#374151', margin: '0 0 0.5rem 0' }}>Contextual Notes:</h5>
                        <ul style={{ margin: 0, paddingLeft: '1.25rem', color: '#64748b', fontSize: '0.875rem' }}>
                          {analysisResult.constructiveFeedback.contextualNotes.map((note, index) => (
                            <li key={index} style={{ marginBottom: '0.25rem' }}>{note}</li>
                          ))}
                        </ul>
                      </div>
                    )}
                  </div>
                )}

                {/* Summary */}
                {analysisResult.summary && (
                  <div style={{
                    background: '#eff6ff',
                    padding: '1.5rem',
                    borderRadius: '8px',
                    border: '1px solid #bfdbfe'
                  }}>
                    <h4 style={{
                      fontSize: '1.25rem',
                      fontWeight: '600',
                      color: '#1d4ed8',
                      margin: '0 0 0.75rem 0'
                    }}>
                      üìù Summary
                    </h4>
                    <p style={{ color: '#374151', margin: 0, lineHeight: '1.6' }}>{analysisResult.summary}</p>
                  </div>
                )}
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('disinfo-bot-container'));
  </script>

  <footer style="text-align:center; color:#64748b; font-size:1rem; margin-top:2rem; padding:2rem 0 1rem 0;">
    Made with <span style="color:#ef4444;">&#10084;&#65039;</span> by Jonas &middot; <a href="https://jo-qu.com" style="color:#2563eb; text-decoration:underline;">@jo-qu.com</a>
  </footer></footer>

</html>
